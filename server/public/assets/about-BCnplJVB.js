import{C as e,J as t,K as n,Tt as r,_ as i,a,at as o,dt as s,f as c,ft as l,g as u,gt as d,i as f,l as p,n as m,ot as h,p as g,r as _,t as v,ut as y,xt as b,z as x}from"./about-D0-n5z-y.js";var S=d(`<div class="w-64 m-auto flex flex-col"><label for=name>用户名</label><div class="text-right mb-3">尚未<!>?</div><label for=code>临时密码`),C,w=()=>{let[t,c]=r(``),[l,u]=r(0),[d,h]=r(!0),v=async()=>{h(!1),u(60),C=setInterval(()=>{u(e=>e-1)<=0&&(clearInterval(C),C=void 0,h(!0))},1e3);try{switch((await n(g())).status){case o.BadRequest:return e(`请输入用户名`);case o.NotFound:return e(`未找到用户`);case o.FailedDependency:return e(`此用户未注册手机号码`);case o.TooEarly:return e(`请求OTP过于频繁`);case o.OK:return e(`OTP已发送`);default:e(`未知服务器错误`)}}catch{e(`网络错误`)}},w=async()=>{try{switch(await x(g(),t())){case o.BadRequest:return e(`请输入用户名和密码`);case o.NotFound:return e(`未找到用户`);case o.Unauthorized:return e(`错误的密码`);case o.OK:e(`已登录`),C&&clearInterval(C),location.reload();break;default:e(`未知服务器错误`)}}catch{e(`网络错误`)}};return b(m,{class:`p-2 flex flex-col`,title:`登录`,get left(){return b(a,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:()=>p(`#about`)})},get children(){var e=S(),n=e.firstChild.nextSibling,r=n.firstChild.nextSibling;return r.nextSibling,n.nextSibling,y(e,b(_,{name:`name`,placeholder:`name`,autoCapitalize:`none`,get binding(){return[g,i]}}),n),y(n,b(a,{class:`btn-anchor font-bold`,onClick:()=>p(`#signup`),children:`注册`}),r),y(e,b(_,{name:`code`,placeholder:`code`,autoCapitalize:`none`,binding:[t,c]}),null),y(e,b(a,{class:`btn-anchor block text-right mb-3`,onClick:v,get disabled(){return!d()},get children(){return[`Send One-Time Passcode `,s(()=>s(()=>l()>0)()?`(${l()})`:``)]}}),null),y(e,b(f,{class:`button btn-prime`,onClick:w,children:`登录`}),null),e}})},T=d(`<div class="w-64 m-auto flex flex-col pb-4"><label for=name>用户名</label><label for=phone>手机号码(含国际区号)</label><div class="text-right mb-3">已经注册，请`),E=/^[_\w-]+$/,D=/^\+\d+$/,O=()=>{let[n,s]=r(``),c=()=>{p(`#signin`)},l=async()=>{if(!E.test(g()))return e(`Name can only include _, letter, number and -`);let r=n().replaceAll(/[() -]/g,``);if(!D.test(r))return e(`Invalid phone number!`);try{switch((await t(r,g())).status){case o.BadRequest:return e(`用户名已注册`);case o.Conflict:return e(`电话号码已注册`);case o.OK:return e(`注册成功，请登录`),p(`#signin`);default:e(`未知数服务器错误`)}}catch{e(`网络错误`)}};return b(m,{class:`p-2 flex flex-col`,title:`注册`,get left(){return b(a,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:()=>p(`#about`)})},get children(){var e=T(),t=e.firstChild.nextSibling,r=t.nextSibling;return r.firstChild,y(e,b(_,{name:`name`,placeholder:`name`,autoCapitalize:`none`,get binding(){return[g,i]},class:`mb-3`}),t),y(e,b(_,{name:`phone`,placeholder:`+1(987)765-5432`,autoCapitalize:`none`,binding:[n,s],class:`mb-3`}),r),y(r,b(a,{class:`btn-anchor font-bold`,onClick:c,children:`登录`}),null),y(e,b(f,{class:`button btn-prime py-1`,onClick:l,children:`注册`}),null),e}})},k=()=>{let e=new Map;return e.set(`#about`,v),e.set(`#signup`,O),e.set(`#signin`,w),u(`#about`),b(h,{get component(){return e.get(c())}})};l(()=>b(k,{}),document.getElementById(`root`));