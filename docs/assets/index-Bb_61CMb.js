import{$ as e,A as t,B as n,D as r,F as i,G as a,H as o,I as s,J as c,K as l,L as u,M as d,N as f,O as p,P as m,Q as h,R as g,S as _,T as v,U as y,V as b,W as x,X as S,Y as C,Z as w,_ as T,a as E,at as D,b as O,c as k,d as A,et as j,f as M,g as N,i as P,it as F,j as I,k as ee,l as L,m as R,n as z,nt as B,o as te,p as V,q as H,r as U,rt as W,s as G,t as K,tt as q,u as ne,v as re,w as ie,x as ae,y as J,z as Y}from"./about-wo-MeYoj.js";var oe=c(`<div><span>`),X=e=>{let[t,r]=D(e,[`class`,`binding`,`label`,`disabled`,`onChange`]),[i,a]=t.binding,s=e=>{e.stopPropagation(),t.disabled||(a(e=>!e),t.onChange&&(typeof t.onChange==`function`?t.onChange(e):t.onChange[0](t.onChange[1],e)))};return(()=>{var e=oe(),a=e.firstChild;return H(e,F({get class(){return`${t.disabled?`opacity-50`:``} ${t.class??``}`}},r,{get"aria-disabled"(){return t.disabled},onClick:s}),!1,!0),o(e,()=>t.label,null),q(()=>n(a,`text-[150%] align-bottom icon--material-symbols ${i()?`icon--material-symbols--check-box-outline`:`icon--material-symbols--check-box-outline-blank`}`)),e})()},se=c(`<textarea>`),Z=e=>{let[t,n]=D(e,[`binding`]),[r,i]=t.binding;return(()=>{var e=se();return H(e,F(n,{get value(){return r()},onInput:e=>i(e.currentTarget.value)}),!1,!1),e})()},ce=c(`<label for=name>名称`),le=c(`<label for=disc class=mt-2>描述`),Q=c(`<label for=words class=mt-2>词表`),ue=c(`<div class="flex gap-2 my-2"><div class=grow>`),de=c(`<label for=replace class="text-(--accent-color) mt-2">请考虑用下面的词替换`),fe=c(`<textarea name=replace class=grow>`),pe=({book:t,go:n,showTips:r})=>{let[i,a]=W(``),[s,c]=W(``),[l,u]=W(``),[d,p]=W(!1),[h,g]=W(!1),[v,b]=W(``),x=async()=>{let e=await L(`${_}/${i()}`);e?.content&&u(Array.from(e.content).sort().join(`
`))},S=async()=>{a(e=>e.replaceAll(`/`,`-`));try{let[e,t]=await ae(i(),l(),s(),h(),d());switch(e){case m.BadRequest:return r(`Error: 无名称或无内容`);case m.NotAcceptable:return b(Object.entries(t).map(([e,t])=>`${e}: ${t.join(`,`)}`).join(`
`)),r(`未通过拼写检查`);case m.OK:r(`词书上传成功`),n(`#setting`)}}catch{r(`网络错误`)}};return j(()=>{t()&&(a(f(t().bid)[1]),t().disc&&c(t().disc))},[]),e(z,{class:`flex flex-col p-2`,title:`上传我的词书`,get children(){return[ce(),e(U,{name:`name`,binding:[i,a]}),le(),e(U,{name:`disc`,binding:[s,c]}),Q(),e(Z,{name:`words`,class:`grow`,binding:[l,u]}),y(()=>y(()=>!!v().length)()?[de(),(()=>{var e=fe();return e.addEventListener(`change`,e=>b(e.currentTarget.value)),q(()=>e.value=v()),e})()]:void 0),(()=>{var t=ue(),r=t.firstChild;return o(t,e(X,{binding:[d,p],label:`Replace`}),r),o(t,e(X,{binding:[h,g],label:`Public`}),r),o(t,e(P,{class:`w-24 button btn-normal`,onClick:()=>n(`#setting`),children:`取消`}),null),o(t,e(P,{class:`w-24 button btn-normal`,onClick:x,children:`下载`}),null),o(t,e(P,{class:`w-24 button btn-prime`,onClick:S,children:`上传`}),null),t})()]}})},me=c(`<ol class="list-decimal py-2 pr-2 pl-8 [&amp;>li]:mx-2 overflow-y-auto"><li>如何使用本软件？<br>答：点击「学习」，开始学习即可；在学习界面， (1)当练习听力时，会先播放一小段声音，没有听清可以点击<div class="w-6 h-6 inline-block">&#8227;</div>或按下「B或C」快捷键或触摸屏幕的上半部分进行重听， (2)当练习阅读时，会先显示一个单词； 然后在心里默想一个概念（意思），点击「答」或按下「空格键」或触摸屏幕下半区域，显示单词的音标和解释， 并同时显示一个与该词相关的背景图片，检查是否和自己默想的答案一致，如果一致，点击「知」或按下「N或X」快捷键或向上滑动屏幕， 否则点击「不」或按下「M或Z」快捷键或向下滑动屏幕。记住，要快速完成，不要在一个词上长时间停留，那样只会降低效率， 我们的方法是快速/多次，从记忆效率来讲，次数的作用远远大于时长。这个方法称为大脑按摩，直接在拼写/声音和概念之间建立反射弧， 所以不要犹豫，快速完成一个小冲刺。</li><li>我应该学习哪些词汇？<br>答：我们的目标是在未来能够自由使用英语，应该先学重要的词汇，因为20%的英语词汇表达了80%的意思， 抓住少数基本词，将能够快速提高英语水平。本软件提供多本词书供您选择，以适应您当下的需求。但不要太多关注词书， 一个常用词通常会出现在多本词书中，不必介意它到底从哪里来。也可以不选择词书，直接基于词典 （本词典收录25000多条常用词，不在词典中的词，对于学生而言，可以不必记忆了），在词典中查到自己在生活中遇到， 但不会的词，直接开始学它，背它，终有一日，你再也遇不到生词的时候，你就已经功法大成了。</li><li>我该如何复习？<br>答：完全不必操心这个事情，让系统决定，系统自动根据「艾宾浩斯」遗忘曲线来决定此时的最佳复习内容， 你要做的事是每天利用碎片时间，拿出手机，开始「学习」。</li><li class="[&amp;>span]:align-[-20%]">界面上的按钮是什么意思？<br><span class="text-[150%] icon--material-symbols icon--material-symbols--check-circle text-green-500"></span>: 我认识这个词；<br><span class="text-[150%] icon--mdi icon--mdi--cross-circle text-fuchsia-500"></span>: 我不认识这个词；<br><span class="text-[150%] icon--material-symbols icon--material-symbols--volume-up text-blue-500"></span>: 再播一遍声音；<br><span class="text-[150%] icon--material-symbols icon--material-symbols--family-star text-yellow-500"></span>: 这个词我已经掌握，直接标记为「已完成」；<br><span class="text-[150%] icon--material-symbols icon--material-symbols--error text-red-500"></span>: 这个词的翻译/声音/音标，有问题/错误，请人工处理。<br><span class="text-[150%] icon--material-symbols icon--material-symbols--refresh text-purple-500"></span>: 忽略本地词典缓冲，从服务器重新下载这个词的翻译/声音/音标。</li><li>关于「学习词书」<br>答：学习词书将一本词书的全部词添加进我的学习任务。但我们通常并不会直接开始学这些新词，而是优先复习旧词， 掌握巩固一个旧词比学习一批新词更重要，这些新加的任务将会成为优先级最低的任务。</li><li>关于登录和多设备<br>答：⓵软件设计为免密模式（不需要密码），在一个设备上只要用电子邮件验证身份之后，就再也不需要密码了，打开软件立即可以开始学习。<br>⓶在第二台设备上登录时，系统将自动同步学习记录和设置，你完全可以同时在电脑和手机上学习。</li><li>以后有AI翻译了，我还用得着学英语吗？<br>答：AI或者任意翻译工具甚至包括人工翻译，都只能解决浅表问题，因为一门语言是无法准确表达另一门语言的含义的， 一门语言的背后代表着文化和思维模式，这些深层次的东西是任何翻译都无法解决的。如果你有计划去英语文华圈生活/学习/工作， 那你必需亲自用人脑学好它，仅仅翻译工具是不够的。`),he=({go:t})=>e(z,{class:`flex flex-col pb-4`,get left(){return e(E,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:()=>t()})},title:`帮助`,get children(){return me()}}),ge=c(`<div class=text-left>`),_e=c(`<div class="relative bg-[var(--bg-title)] h-6 py-1 w-full hover:cursor-pointer"><div class="my-auto h-4 bg-slate-400"><div class="ml-auto h-full bg-orange-500"></div></div><div class="absolute top-0 right-1">|`),ve=c(`<div class="grow min-w-80 grid gap-x-1 grid-cols-[max-content_1fr] items-center"><div class="col-span-2 text-center font-bold"><button type=button class="hover:cursor-pointer hover:underline">`),ye=({blevel:e,totals:t,tasks:n,width:r})=>[(()=>{var t=ge();return o(t,()=>i[e]),t})(),(()=>{var i=_e(),a=i.firstChild,s=a.firstChild,c=a.nextSibling,u=c.firstChild;return o(c,()=>n[e],u),o(c,()=>t[e],null),q(i=>{var o=`${r?t[e]*100/r:100}%`,c=`${t[e]?n[e]*100/t[e]:0}%`;return o!==i.e&&l(a,`width`,i.e=o),c!==i.t&&l(s,`width`,i.t=c),i},{e:void 0,t:void 0}),i})()],be=({bid:t,startStudy:n,tasks:r,title:i,totals:a,width:s})=>(()=>{var c=ve(),l=c.firstChild.firstChild;return l.$$click=()=>n(t),o(l,i),o(c,e(S,{each:[0,1,2,3,4,5],children:t=>e(ye,{blevel:t,totals:a,tasks:r,width:s})}),null),c})();b([`click`]);var xe=c(`<div class="body grow overflow-y-auto"><div class="p-2 flex flex-wrap justify-between gap-4">`),Se=c(`<span class="icon--material-symbols icon--material-symbols--dictionary">`),Ce=c(`<span class="icon--hugeicons icon--hugeicons--online-learning-01">`),we=c(`<span class="icon--material-symbols icon--material-symbols--settings">`),Te=c(`<span class="icon--tabler icon--tabler--info-octagon">`),Ee=c(`<span class="icon--material-symbols icon--material-symbols--error">`),De=c(`<span class="icon--material-symbols icon--material-symbols--help-outline">`),Oe=c(`<div class="tail shrink-0 px-4 pt-2 pb-5 flex gap-3 justify-between [&amp;>button]:grow [&amp;>button>span]:align-[-30%] [&amp;>button]:min-w-[110px] [&amp;>button>span]:text-4xl font-bold overflow-x-auto [scrollbar-width:none]">`),ke=(e,t)=>e+t,Ae=(e,t)=>e>t?e:t,je=e=>{let t=s(e.total),n=s(e.task),r=t.reduce(Ae)*1.2,i=e.total.reduce(ke),a=e.task.reduce(ke),o=e.bid?f(e.bid)[1]:``,c=`${e.disc??o} - ${a}|${i}`;return{bid:e.bid,totals:t,tasks:n,width:r,title:c}},Me=({go:t,setBId:n,setCItem:r,setPhaseAnswer:i,setShowLoading:a,setSprint:s,showLoading:c,showTips:l,stats:u,totalStats:d})=>{let f=async e=>{a(!0);let o=await ne(n(e));a(!1),o?(r(o),i(!1),s(0),t(`#study`)):(l(`No More Task`),d())};return e(z,{class:`flex flex-col`,title:`学习进度`,showLoading:c,get children(){return[(()=>{var t=xe(),n=t.firstChild;return o(n,e(S,{get each(){return u().stats},children:t=>e(be,F(()=>je(t),{startStudy:f}))})),t})(),(()=>{var n=Oe();return o(n,e(P,{onClick:()=>t(`#search`),get children(){return[Se(),` `,`词典`]}}),null),o(n,e(P,{onClick:()=>f(),get children(){return[Ce(),` `,`学习`]}}),null),o(n,e(P,{onClick:()=>t(`#setting`),get children(){return[we(),` `,`设置`]}}),null),o(n,e(P,{onClick:()=>t(`#about`),get children(){return[Te(),` `,`关于`]}}),null),o(n,e(P,{onClick:()=>t(`#issue`),get children(){return[Ee(),` `,`问题`]}}),null),o(n,e(P,{onClick:()=>t(`#help`),get children(){return[De(),` `,`帮助`]}}),null),n})()]}})},Ne=c(`<label for=issue>请在这里描述你的问题:`),Pe=c(`<div class="flex gap-2 mt-2 pb-3 justify-end">`),Fe=({go:t,showTips:n,tips:r})=>{let[i,a]=W(``),s=async()=>{(await ie(i())).ok?(n(`提交成功!`),t()):n(`提交失败!`)};return e(z,{class:`p-2 flex flex-col`,title:`提交问题`,tips:r,get children(){return[Ne(),e(Z,{name:`issue`,class:`grow`,binding:[i,a],get children(){return i()}}),(()=>{var n=Pe();return o(n,e(P,{class:`w-24 button btn-normal`,onClick:()=>t(),children:`取消`}),null),o(n,e(P,{class:`w-24 button btn-prime`,onClick:s,children:`提交`}),null),n})()]}})},Ie=c(`<div class="absolute border bg-(--bg-body) z-100 top-[calc(100%+4px)] inset-x-0 px-2">`),Le=c(`<div><input class="w-full px-2">`),Re=c(`<div>`),ze=t=>{let[r,i]=D(t,[`class`,`binding`,`options`,`maxSuggest`,`onChange`]),[a,s]=r.binding,c=r.maxSuggest??12,[l,u]=W([]),d=()=>setTimeout(()=>u([]),200),f=e=>{e.stopPropagation(),e.key===`Enter`&&d()&&r.onChange?.(a())},p=e=>{let t=s(e.currentTarget.value);if(!t)return u([]);let n=[],i=[];for(let e of r.options)if(e.startsWith(t)?n.push(e):e.includes(t)&&i.push(e),n.length>=c)break;u(n.concat(i.slice(0,c-n.length)))},m=e=>{s(e.currentTarget.textContent??``),r.onChange?.(a())};return(()=>{var t=Le(),s=t.firstChild;return H(s,F(i,{get value(){return a()},onBlur:d,onInput:p,onKeyUp:f}),!1,!1),o(t,e(w,{get when(){return l().length},get children(){var t=Ie();return o(t,e(S,{get each(){return l()},children:e=>(()=>{var t=Re();return t.$$click=m,o(t,e),t})()})),t}}),null),q(()=>n(t,`inline-block relative ${r.class??``}`)),t})()};b([`click`]);var Be=({showTips:t,setCItem:n,setPhaseAnswer:r,setSprint:i,vocabulary:a,go:o})=>{let s=W(``),c=async()=>{let e=s[0]().trim();if(!e)return;let a=await V(e);if(!a)return t(`Not Found!`);n(a),r(!0),i(-1),o(`#study`)};return e(z,{class:`flex flex-col text-lg`,get left(){return e(E,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:()=>o()})},title:`词典`,get children(){return e(ze,{autoCapitalize:`none`,type:`search`,name:`word`,placeholder:`word`,class:`m-2 w-[calc(100%-16px)]`,binding:s,onChange:c,get options(){return a()}})}})},Ve=c(`<div>`),$=t=>{let[r,i]=t.cindex,a=(e,n)=>{n.stopPropagation(),i(e()),t.onClick&&(typeof t.onClick==`function`?t.onClick(n):t.onClick[0](t.onClick[1],n))};return e(S,{get each(){return t.options},children:(e,i)=>(()=>{var s=Ve();return s.$$click=a,s.$$clickData=i,o(s,()=>t.func(e)),q(()=>n(s,`${t.class??``} ${r()===i()?t.activeClass:``}`)),s})()})};b([`click`]);var He=c(`<fieldset class="border rounded grow overflow-y-auto px-2"><legend>我的词书`),Ue=c(`<div class="flex justify-between gap-2">`),We=c(`<div class="flex gap-2"><label for=filter>设置过滤`),Ge=c(`<fieldset class="border rounded grow overflow-y-auto px-2"><legend>可用的词书`),Ke=c(`<fieldset class="border rounded grow overflow-y-auto px-2"><legend>我订阅的词书`),qe=c(`<div class="pb-3 flex justify-between gap-2">`),Je=({go:t,setBook:n,setShowLoading:i,showLoading:a,showTips:s,tips:c})=>{let[l,u]=W(R.trans||!1),[f,m]=W([]),[h,g]=W(0),[v,y]=W([]),[b,x]=W(0),[S,C]=W([]),[w,E]=W(0),[D,O]=W(`^common`),k=()=>{n(void 0),t(`#book`)},A=()=>{n(f()[h()]),t(`#book`)},j=async()=>{let e=await G(f()[h()].bid);s(e?`删除成功`:`删除失败`),e&&m(f().filter((e,t)=>t!==h()))},M=()=>{y([...v(),S()[w()]])},N=()=>{y([...v().slice(0,b()),...v().slice(b()+1)])},F=async()=>{i(!0),await te(v()[b()].bid),await J(),i(!1)},ee=async()=>{await T({format:I,version:Date.now(),trans:l(),books:v().map(e=>e.bid)}),await J(),t()},L=()=>{r(),location.replace(`about`)},V=e=>{let t=e.currentTarget.parentElement;t.classList.contains(`shrink-0`)?t.classList.remove(`shrink-0`):t.classList.add(`shrink-0`)};return B(D,async e=>{let t=new RegExp(e);C((await p(e=>t.test(e.bid)||e.disc&&t.test(e.disc))).sort(d))}),B(async()=>{C((await p(e=>e.bid.startsWith(`common`))).sort(d)),y(await p(e=>R.books.includes(e.bid))),m(await p(e=>e.bid.startsWith(_)))}),e(z,{class:`p-2 gap-2 flex flex-col`,title:`设置`,tips:c,showLoading:a,get children(){return[e(X,{binding:[l,u],label:`Always Show Trans`}),(()=>{var t=He(),n=t.firstChild;return Y(n,`click`,V),o(t,e($,{cindex:[h,g],get options(){return f()},func:e=>e.disc??e.bid,class:`px-2`,activeClass:`bg-[var(--bg-title)]`}),null),t})(),(()=>{var t=Ue();return o(t,e(P,{class:`button btn-normal grow`,name:`new`,onClick:k,children:`新建`}),null),o(t,e(P,{class:`button btn-normal grow`,name:`delete`,get disabled(){return!f().length},onClick:j,children:`删除`}),null),o(t,e(P,{class:`button btn-normal grow`,name:`update`,get disabled(){return!f().length},onClick:A,children:`更新`}),null),t})(),(()=>{var t=We();return t.firstChild,o(t,e(U,{class:`grow`,name:`filter`,binding:[D,O]}),null),t})(),(()=>{var t=Ge(),n=t.firstChild;return Y(n,`click`,V),o(t,e($,{class:`px-2`,cindex:[w,E],get options(){return S()},func:e=>e.disc??e.bid,activeClass:`bg-[var(--bg-title)]`}),null),t})(),(()=>{var t=Ue();return o(t,e(P,{class:`button btn-normal grow`,onClick:M,children:`添加订阅`}),null),o(t,e(P,{class:`button btn-normal grow`,onClick:N,children:`删除订阅`}),null),t})(),(()=>{var t=Ke(),n=t.firstChild;return Y(n,`click`,V),o(t,e($,{class:`px-2`,cindex:[b,x],get options(){return v()},func:e=>e.disc??e.bid,activeClass:`bg-[var(--bg-title)]`}),null),t})(),(()=>{var n=qe();return o(n,e(P,{class:`button btn-normal grow`,onClick:F,children:`添加任务`}),null),o(n,e(P,{class:`button btn-normal grow`,onClick:L,children:`登出`}),null),o(n,e(P,{class:`button btn-prime grow`,onClick:ee,children:`保存`}),null),o(n,e(P,{class:`button btn-normal grow`,onClick:()=>t(),children:`取消`}),null),n})()]}})};const Ye=e=>new Promise(t=>setTimeout(t,e));var Xe=c(`<header class="flex gap-2">`),Ze=c(`<section>`),Qe=c(`<div>`),$e=t=>{let r=h(()=>t.children),[i,a]=t.cindex,s=Array.isArray(r())?r():[r()],c=(e,t)=>{t.stopPropagation(),a(e)};return e(w,{get when(){return s.length},get children(){return[(()=>{var r=Xe();return o(r,e(S,{each:s,children:(e,r)=>(()=>{var a=Qe();return a.$$click=c,a.$$clickData=r,o(a,()=>e.title||r()),q(()=>n(a,`min-w-16 px-2 py-1 cursor-pointer text-center rounded-t-md ${i()===r()?t.class??``:``}`)),a})()})),r})(),(()=>{var e=Ze();return o(e,()=>s[i()]),q(()=>n(e,`grow p-2 ${t.class??``}`)),e})()]}})};b([`click`]);var et=c(`<p class="text-xl font-bold text-[var(--accent-color)]">`),tt=c(`<p>`),nt=t=>e(S,{get each(){return Object.entries(t.entry.meanings)},children:([n,r])=>e(w,{get when(){return t.trans||n!==`ecdict`},get children(){return[e(w,{when:n,get children(){var e=et();return o(e,n),e}}),e(S,{each:r,children:e=>(()=>{var t=tt();return t.innerHTML=`&ensp;-&ensp;${e}`,t})()})]}})}),rt=c(`<div class="menu absolute top-full right-[36px] text-lg text-right bg-(--bg-body) z-1">`),it=c(`<div class="relative flex gap-4 text-[150%] justify-between items-end"><div class=text-lg>`),at=c(`<div class="relative grow h-0 pb-4 flex flex-col overflow-y-auto"><div class="py-2 flex gap-2 flex-wrap justify-between"><div class="text-4xl font-bold"></div></div><audio autoplay>`),ot=c(`<div>`),st=c(`<menu>`),ct=c(`<div class="text-2xl flex items-center">`),lt=c(`<div class="grow [&amp;>p>tt]:text-lg [&amp;>p>tt]:font-bold [&amp;>p>b]:font-bold [&amp;>p>i]:font-italic">`),ut=({bid:n,citem:r,go:i,hideTips:s,isPhaseAnswer:c,setCItem:l,setPhaseAnswer:u,setSprint:d,showTips:h,sprint:g,tips:b,totalStats:x,vocabulary:T})=>{let D=async()=>{i(g()<0?`#search`:void 0),await x(),x()},[A,j]=W(!1),[M,P]=W(0),F={startY:0,endY:0,offset:0,canUp:!1,canDown:!1},[I,te]=W([]),[V,H]=W(!1),U,G=async e=>{r()&&v(t(await ee(r().word,e)))},K=async()=>{if(g()<0)return D();d(e=>e+1),l(void 0),u(!1),j(!1);let e=await ne(n());if(!e)return D();l(e),P(0)},re=async()=>{h(`Get Server Data...`,!1);let e=await O(r());s(),l({...e})},ie=async()=>{h(`Submiting...`,!1),await N(r().word),s()},J=async()=>{h(await k(r().word)?`删除成功`:`删除失败`),await K()},oe=e=>{if(e.stopPropagation(),!(e.ctrlKey||e.altKey))switch(e.key){case` `:Q(e);break;case`N`:case`X`:case`n`:case`x`:c()&&G().then(K);break;case`M`:case`Z`:case`m`:case`z`:c()&&G(0).then(K);break}},X=async(e,t)=>{e.style.top=`${F.offset+=t}px`,Math.abs(F.offset)<globalThis.innerHeight&&(await Ye(30),await X(e,t))},se=e=>{if(!c())return;let t=e.currentTarget;F.endY=F.startY=e.touches[0].clientY,F.offset=0,F.canDown=e.currentTarget.scrollTop<=3,F.canUp=t.scrollHeight-t.clientHeight-t.scrollTop<=3},Z=e=>{if(!c())return;F.endY=e.touches[0].clientY;let t=F.endY-F.startY;(t<0&&F.canUp||t>0&&F.canDown)&&(e.currentTarget.style.top=`${F.offset=t}px`,e.stopPropagation(),e.preventDefault())},ce=e=>{c()&&(e.currentTarget.style.top=`${F.offset=0}`)},le=async e=>{let t=e.currentTarget;if(Math.abs(F.offset)>=globalThis.innerHeight/6){let e=F.offset>0;await G(e?0:void 0),await X(t,e?60:-60),await K()}t.style.top=`${F.offset=0}`},Q=e=>{if(e?.stopPropagation(),V())return H(!1);let t=r()?.entries?.length??0;c()?t===1?U.play():M()<t-1?P(e=>e+1):P(0):(u(!0),U.play())},ue=async e=>{H(!1);let t=r().word,n=(await L(e.bid))?.content;if(n?.has(t))return h(`已包含`);let[i,a]=f(e.bid),[o]=await ae(a,t);h(o===m.OK?`添加成功`:`添加失败`),n?.add(t),T().add(t)};return B(async()=>{te(await p(e=>f(e.bid)[0]===_))}),e(z,{class:`flex flex-col p-2 outline-none`,get left(){return e(E,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:D})},onKeyUp:oe,tabIndex:-1,tips:b,get title(){return`学习${g()>0?`(${g()})`:``}`},get children(){return e(w,{get when(){return r()},get children(){return[(()=>{var t=it(),n=t.firstChild;return o(t,e(E,{onClick:()=>G().then(K),title:`X/N`,class:`icon--material-symbols icon--material-symbols--check-circle text-green-500`,get disabled(){return!c()}}),n),o(t,e(E,{onClick:()=>G(0).then(K),title:`Z/M`,class:`icon--mdi icon--mdi--cross-circle text-fuchsia-500`,get disabled(){return!c()}}),n),o(t,e(E,{onClick:()=>G(13).then(K),class:`icon--material-symbols icon--material-symbols--family-star text-yellow-500`,get disabled(){return!c()}}),n),o(t,e(E,{onClick:J,class:`icon--material-symbols icon--material-symbols--delete-outline text-orange-500`,get disabled(){return!c()}}),n),o(t,e(E,{onClick:()=>U.play(),class:`icon--material-symbols icon--material-symbols--volume-up text-blue-500`}),n),o(t,e(E,{onClick:ie,class:`icon--material-symbols icon--material-symbols--error text-red-500`,get disabled(){return!c()}}),n),o(t,e(E,{onClick:re,class:`icon--material-symbols icon--material-symbols--refresh text-purple-500`,get disabled(){return!c()}}),n),o(t,e(w,{get when(){return!R.trans},get children(){return e(E,{onClick:()=>j(e=>!e),class:`icon--icon-park-outline icon--icon-park-outline--chinese text-amber-500`,get disabled(){return!c()}})}}),n),o(t,e(E,{onClick:()=>H(e=>!e),class:`icon--material-symbols icon--material-symbols--dictionary text-cyan-500`,get disabled(){return!c()}}),n),o(n,()=>r()?.level),o(t,e(w,{get when(){return V()},get children(){var t=rt();return o(t,e(S,{get each(){return I()},children:e=>[ot(),(()=>{var t=st();return t.$$click=()=>ue(e),o(t,()=>e.disc??e.bid),t})()]}),null),o(t,(()=>{var e=y(()=>!!I().length);return()=>e()&&ot()})(),null),t}}),null),t})(),(()=>{var t=at(),n=t.firstChild,i=n.firstChild,s=n.nextSibling;Y(t,`touchcancel`,ce),Y(t,`touchend`,le),Y(t,`touchmove`,Z),Y(t,`touchstart`,se),Y(t,`click`,Q),o(i,()=>r()?.word),o(n,(()=>{var e=y(()=>!!c());return()=>e()&&(()=>{var e=ct();return o(e,()=>r()?.entries?.[M()].phonetic),e})()})(),null),o(t,e(w,{get when(){return c()},get children(){return e(w,{get when(){return(r()?.entries?.length??0)>1},get fallback(){return(()=>{var t=lt();return o(t,e(nt,{get entry(){return r()?.entries?.[0]},get trans(){return A()||g()<0||R.trans}})),t})()},get children(){return e($e,{class:`bg-(--bg-tab)`,cindex:[M,P],get children(){return e(S,{get each(){return r()?.entries},children:t=>(()=>{var n=lt();return o(n,e(nt,{entry:t,get trans(){return A()||g()<0||R.trans}})),n})()})}})}})}}),s);var l=U;return typeof l==`function`?C(l,s):U=s,q(()=>a(s,`src`,r()?.entries?.at(M())?.sound??``)),t})()]}})}})};b([`click`]);var dt=()=>{let[t,n]=W(u()),[r,i]=W(``),[a,o]=W(!1),[s,c]=W(),[l,d]=W(),[f,p]=W(-1),[m,h]=W(),[v,y]=W(!1),[b,x]=W(`#home`),[S,C]=W(new Set),w,E=async()=>n(await J()),D=()=>i(``),O=e=>x(e??(_?`#home`:`#about`)),k=(e,t=!0)=>{i(e),t&&(w&&clearTimeout(w),w=setTimeout(D,3e3))},N=new Map;N.set(`#home`,()=>e(Me,{go:O,setBId:d,setCItem:c,setPhaseAnswer:o,setShowLoading:y,setSprint:p,showLoading:v,showTips:k,stats:t,totalStats:E})),N.set(`#help`,()=>e(he,{go:O})),N.set(`#about`,()=>e(K,{go:O})),N.set(`#issue`,()=>e(Fe,{go:O,showTips:k,tips:r})),N.set(`#setting`,()=>e(Je,{go:O,setBook:h,setShowLoading:y,showLoading:v,showTips:k,tips:r})),N.set(`#search`,()=>e(Be,{go:O,setCItem:c,setPhaseAnswer:o,setSprint:p,showTips:k,vocabulary:S})),N.set(`#study`,()=>e(ut,{bid:l,citem:s,go:O,hideTips:D,isPhaseAnswer:a,setCItem:c,setPhaseAnswer:o,setSprint:p,showTips:k,sprint:f,tips:r,totalStats:E,vocabulary:S})),N.set(`#book`,()=>e(pe,{go:O,book:m,showTips:k}));let P=async()=>{_?(O(`#home`),await E(),(async()=>{await A();let[e,t]=await M();e.size&&C(e),t().then(e=>e&&C(e)),await T(),await re(),await E()})()):O(`#about`)};return j(()=>{P()}),e(g,{get component(){return N.get(b())}})};x(()=>e(dt,{}),document.getElementById(`root`));