import{$ as e,A as t,B as n,C as r,D as i,E as a,F as o,G as s,H as c,I as l,J as u,K as d,L as f,M as p,N as m,O as h,P as g,Q as _,R as v,U as y,V as b,W as x,X as S,Y as C,Z as w,_ as T,a as E,b as D,c as O,d as k,et as A,f as j,g as M,i as N,it as P,j as F,k as ee,l as te,m as I,n as L,nt as R,o as z,p as B,q as V,r as H,rt as U,s as W,t as G,tt as K,u as ne,v as q,w as re,x as ie,y as J,z as Y}from"./about-CY2ZIbh_.js";var ae=V(`<div><span>`),X=e=>{let[t,n]=P(e,[`class`,`binding`,`label`,`disabled`,`onChange`]),[r,i]=t.binding,a=e=>{e.stopPropagation(),t.disabled||(i(e=>!e),t.onChange&&(typeof t.onChange==`function`?t.onChange(e):t.onChange[0](t.onChange[1],e)))};return(()=>{var e=ae(),i=e.firstChild;return d(e,U({get class(){return`${t.disabled?`opacity-50`:``} ${t.class??``}`}},n,{get"aria-disabled"(){return t.disabled},onClick:a}),!1,!0),b(e,()=>t.label,null),A(()=>Y(i,`text-[150%] align-bottom icon--material-symbols ${r()?`icon--material-symbols--check-box-outline`:`icon--material-symbols--check-box-outline-blank`}`)),e})()},Z=V(`<textarea>`),Q=e=>{let[t,n]=P(e,[`binding`]),[r,i]=t.binding;return(()=>{var e=Z();return d(e,U(n,{get value(){return r()},onInput:e=>i(e.currentTarget.value)}),!1,!1),e})()},oe=V(`<label for=name>名称`),se=V(`<label for=disc class=mt-2>描述`),ce=V(`<label for=words class=mt-2>词表`),$=V(`<div class="flex gap-2 my-2"><div class=grow>`),le=V(`<label for=replace class="text-(--accent-color) mt-2">请考虑用下面的词替换`),ue=V(`<textarea name=replace class=grow>`),de=({book:t,go:n,showTips:r,user:i})=>{let[a,o]=R(``),[s,l]=R(``),[u,d]=R(``),[f,h]=R(!1),[g,v]=R(!1),[y,x]=R(``),S=async()=>{let e=await te(`${i()}/${a()}`);e?.content&&d(Array.from(e.content).sort().join(`
`))},C=async()=>{o(e=>e.replaceAll(`/`,`-`));try{let[e,t]=await ie(a(),u(),s(),g(),f());switch(e){case m.BadRequest:return r(`Error: 无名称或无内容`);case m.NotAcceptable:return x(Object.entries(t).map(([e,t])=>`${e}: ${t.join(`,`)}`).join(`
`)),r(`未通过拼写检查`);case m.OK:r(`词书上传成功`),n(`#setting`)}}catch{r(`网络错误`)}};return e(()=>{t()&&(o(p(t().bid)[1]),t().disc&&l(t().disc))},[]),_(L,{class:`flex flex-col p-2`,title:`上传我的词书`,get children(){return[oe(),_(H,{name:`name`,binding:[a,o]}),se(),_(H,{name:`disc`,binding:[s,l]}),ce(),_(Q,{name:`words`,class:`grow`,binding:[u,d]}),c(()=>c(()=>!!y().length)()?[le(),(()=>{var e=ue();return e.addEventListener(`change`,e=>x(e.currentTarget.value)),A(()=>e.value=y()),e})()]:void 0),(()=>{var e=$(),t=e.firstChild;return b(e,_(X,{binding:[f,h],label:`Replace`}),t),b(e,_(X,{binding:[g,v],label:`Public`}),t),b(e,_(N,{class:`w-24 button btn-normal`,onClick:()=>n(`#setting`),children:`取消`}),null),b(e,_(N,{class:`w-24 button btn-normal`,onClick:S,children:`下载`}),null),b(e,_(N,{class:`w-24 button btn-prime`,onClick:C,children:`上传`}),null),e})()]}})},fe=V(`<ol class="list-decimal py-2 pr-2 pl-8 [&amp;>li]:mx-2 overflow-y-auto"><li>如何使用本软件？<br>答：点击「学习」，开始学习即可；在学习界面， (1)当练习听力时，会先播放一小段声音，没有听清可以点击<div class="w-6 h-6 inline-block">&#8227;</div>或按下「B或C」快捷键或触摸屏幕的上半部分进行重听， (2)当练习阅读时，会先显示一个单词； 然后在心里默想一个概念（意思），点击「答」或按下「空格键」或触摸屏幕下半区域，显示单词的音标和解释， 并同时显示一个与该词相关的背景图片，检查是否和自己默想的答案一致，如果一致，点击「知」或按下「N或X」快捷键或向上滑动屏幕， 否则点击「不」或按下「M或Z」快捷键或向下滑动屏幕。记住，要快速完成，不要在一个词上长时间停留，那样只会降低效率， 我们的方法是快速/多次，从记忆效率来讲，次数的作用远远大于时长。这个方法称为大脑按摩，直接在拼写/声音和概念之间建立反射弧， 所以不要犹豫，快速完成一个小冲刺。</li><li>我应该学习哪些词汇？<br>答：我们的目标是在未来能够自由使用英语，应该先学重要的词汇，因为20%的英语词汇表达了80%的意思， 抓住少数基本词，将能够快速提高英语水平。本软件提供多本词书供您选择，以适应您当下的需求。但不要太多关注词书， 一个常用词通常会出现在多本词书中，不必介意它到底从哪里来。也可以不选择词书，直接基于词典 （本词典收录25000多条常用词，不在词典中的词，对于学生而言，可以不必记忆了），在词典中查到自己在生活中遇到， 但不会的词，直接开始学它，背它，终有一日，你再也遇不到生词的时候，你就已经功法大成了。</li><li>我该如何复习？<br>答：完全不必操心这个事情，让系统决定，系统自动根据「艾宾浩斯」遗忘曲线来决定此时的最佳复习内容， 你要做的事是每天利用碎片时间，拿出手机，开始「学习」。</li><li class="[&amp;>span]:align-[-20%]">界面上的按钮是什么意思？<br><span class="text-[150%] icon--material-symbols icon--material-symbols--check-circle text-green-500"></span>: 我认识这个词；<br><span class="text-[150%] icon--mdi icon--mdi--cross-circle text-fuchsia-500"></span>: 我不认识这个词；<br><span class="text-[150%] icon--material-symbols icon--material-symbols--volume-up text-blue-500"></span>: 再播一遍声音；<br><span class="text-[150%] icon--material-symbols icon--material-symbols--family-star text-yellow-500"></span>: 这个词我已经掌握，直接标记为「已完成」；<br><span class="text-[150%] icon--material-symbols icon--material-symbols--error text-red-500"></span>: 这个词的翻译/声音/音标，有问题/错误，请人工处理。<br><span class="text-[150%] icon--material-symbols icon--material-symbols--refresh text-purple-500"></span>: 忽略本地词典缓冲，从服务器重新下载这个词的翻译/声音/音标。</li><li>关于「学习词书」<br>答：学习词书将一本词书的全部词添加进我的学习任务。但我们通常并不会直接开始学这些新词，而是优先复习旧词， 掌握巩固一个旧词比学习一批新词更重要，这些新加的任务将会成为优先级最低的任务。</li><li>关于登录和多设备<br>答：⓵软件设计为免密模式（不需要密码），在一个设备上只要用电子邮件验证身份之后，就再也不需要密码了，打开软件立即可以开始学习。<br>⓶在第二台设备上登录时，系统将自动同步学习记录和设置，你完全可以同时在电脑和手机上学习。</li><li>以后有AI翻译了，我还用得着学英语吗？<br>答：AI或者任意翻译工具甚至包括人工翻译，都只能解决浅表问题，因为一门语言是无法准确表达另一门语言的含义的， 一门语言的背后代表着文化和思维模式，这些深层次的东西是任何翻译都无法解决的。如果你有计划去英语文华圈生活/学习/工作， 那你必需亲自用人脑学好它，仅仅翻译工具是不够的。`),pe=({go:e})=>_(L,{class:`flex flex-col pb-4`,get left(){return _(E,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:()=>e()})},title:`帮助`,get children(){return fe()}}),me=V(`<div class=text-left>`),he=V(`<div class="relative bg-[var(--bg-title)] h-6 py-1 w-full hover:cursor-pointer"><div class="my-auto h-4 bg-slate-400"><div class="ml-auto h-full bg-orange-500"></div></div><div class="absolute top-0 right-1">|`),ge=V(`<div class="grow min-w-80 grid gap-x-1 grid-cols-[max-content_1fr] items-center"><div class="col-span-2 text-center font-bold"><button type=button class="hover:cursor-pointer hover:underline">`),_e=({blevel:e,totals:t,tasks:n,width:r})=>[(()=>{var t=me();return b(t,()=>g[e]),t})(),(()=>{var i=he(),a=i.firstChild,o=a.firstChild,c=a.nextSibling,l=c.firstChild;return b(c,()=>n[e],l),b(c,()=>t[e],null),A(i=>{var c=`${r?t[e]*100/r:100}%`,l=`${t[e]?n[e]*100/t[e]:0}%`;return c!==i.e&&s(a,`width`,i.e=c),l!==i.t&&s(o,`width`,i.t=l),i},{e:void 0,t:void 0}),i})()],ve=({bid:e,startStudy:t,tasks:n,title:r,totals:i,width:a})=>(()=>{var o=ge(),s=o.firstChild.firstChild;return s.$$click=()=>t(e),b(s,r),b(o,_(C,{each:[0,1,2,3,4,5],children:e=>_(_e,{blevel:e,totals:i,tasks:n,width:a})}),null),o})();n([`click`]);var ye=V(`<div class="body grow overflow-y-auto"><div class="p-2 flex flex-wrap justify-between gap-4">`),be=V(`<span class="icon--material-symbols icon--material-symbols--dictionary">`),xe=V(`<span class="icon--hugeicons icon--hugeicons--online-learning-01">`),Se=V(`<span class="icon--material-symbols icon--material-symbols--settings">`),Ce=V(`<span class="icon--tabler icon--tabler--info-octagon">`),we=V(`<span class="icon--material-symbols icon--material-symbols--error">`),Te=V(`<span class="icon--material-symbols icon--material-symbols--help-outline">`),Ee=V(`<div class="tail shrink-0 px-4 pt-2 pb-5 flex gap-3 justify-between [&amp;>button]:grow [&amp;>button>span]:align-[-30%] [&amp;>button]:min-w-[110px] [&amp;>button>span]:text-4xl font-bold overflow-x-auto [scrollbar-width:none]">`),De=(e,t)=>e+t,Oe=(e,t)=>e>t?e:t,ke=e=>{let t=o(e.total),n=o(e.task),r=t.reduce(Oe)*1.2,i=e.total.reduce(De),a=e.task.reduce(De),s=e.bid?p(e.bid)[1]:``,c=`${e.disc??s} - ${a}|${i}`;return{bid:e.bid,totals:t,tasks:n,width:r,title:c}},Ae=({go:e,setBId:t,setCItem:n,setPhaseAnswer:r,setShowLoading:i,setSprint:a,showLoading:o,showTips:s,stats:c,totalStats:l})=>{let u=async o=>{i(!0);let c=await ne(t(o));i(!1),c?(n(c),r(!1),a(0),e(`#study`)):(s(`No More Task`),l())};return _(L,{class:`flex flex-col`,title:`学习进度`,showLoading:o,get children(){return[(()=>{var e=ye(),t=e.firstChild;return b(t,_(C,{get each(){return c().stats},children:e=>_(ve,U(()=>ke(e),{startStudy:u}))})),e})(),(()=>{var t=Ee();return b(t,_(N,{onClick:()=>e(`#search`),get children(){return[be(),` `,`词典`]}}),null),b(t,_(N,{onClick:()=>u(),get children(){return[xe(),` `,`学习`]}}),null),b(t,_(N,{onClick:()=>e(`#setting`),get children(){return[Se(),` `,`设置`]}}),null),b(t,_(N,{onClick:()=>e(`#about`),get children(){return[Ce(),` `,`关于`]}}),null),b(t,_(N,{onClick:()=>e(`#issue`),get children(){return[we(),` `,`问题`]}}),null),b(t,_(N,{onClick:()=>e(`#help`),get children(){return[Te(),` `,`帮助`]}}),null),t})()]}})},je=V(`<label for=issue>请在这里描述你的问题:`),Me=V(`<div class="flex gap-2 mt-2 pb-3 justify-end">`),Ne=({go:e,showTips:t,tips:n})=>{let[i,a]=R(``),o=async()=>{(await r(i())).ok?(t(`提交成功!`),e()):t(`提交失败!`)};return _(L,{class:`p-2 flex flex-col`,title:`提交问题`,tips:n,get children(){return[je(),_(Q,{name:`issue`,class:`grow`,binding:[i,a],get children(){return i()}}),(()=>{var t=Me();return b(t,_(N,{class:`w-24 button btn-normal`,onClick:()=>e(),children:`取消`}),null),b(t,_(N,{class:`w-24 button btn-prime`,onClick:o,children:`提交`}),null),t})()]}})},Pe=V(`<div class="absolute border bg-(--bg-body) z-100 top-[calc(100%+4px)] inset-x-0 px-2">`),Fe=V(`<div><input class="w-full px-2">`),Ie=V(`<div>`),Le=e=>{let[t,n]=P(e,[`class`,`binding`,`options`,`maxSuggest`,`onChange`]),[r,i]=t.binding,a=t.maxSuggest??12,[o,s]=R([]),c=()=>setTimeout(()=>s([]),200),l=e=>{e.stopPropagation(),e.key===`Enter`&&c()&&t.onChange?.(r())},u=e=>{let n=i(e.currentTarget.value);if(!n)return s([]);let r=[],o=[];for(let e of t.options)if(e.startsWith(n)?r.push(e):e.includes(n)&&o.push(e),r.length>=a)break;s(r.concat(o.slice(0,a-r.length)))},f=e=>{i(e.currentTarget.textContent??``),t.onChange?.(r())};return(()=>{var e=Fe(),i=e.firstChild;return d(i,U(n,{get value(){return r()},onBlur:c,onInput:u,onKeyUp:l}),!1,!1),b(e,_(S,{get when(){return o().length},get children(){var e=Pe();return b(e,_(C,{get each(){return o()},children:e=>(()=>{var t=Ie();return t.$$click=f,b(t,e),t})()})),e}}),null),A(()=>Y(e,`inline-block relative ${t.class??``}`)),e})()};n([`click`]);var Re=({showTips:e,setCItem:t,setPhaseAnswer:n,setSprint:r,vocabulary:i,go:a})=>{let o=R(``),s=async()=>{let i=o[0]().trim();if(!i)return;let s=await B(i);if(!s)return e(`Not Found!`);t(s),n(!0),r(-1),a(`#study`)};return _(L,{class:`flex flex-col text-lg`,get left(){return _(E,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:()=>a()})},title:`词典`,get children(){return _(Le,{autoCapitalize:`none`,type:`search`,name:`word`,placeholder:`word`,class:`m-2 w-[calc(100%-16px)]`,binding:o,onChange:s,get options(){return i()}})}})},ze=V(`<div>`),Be=e=>{let[t,n]=e.cindex,r=(t,r)=>{r.stopPropagation(),n(t()),e.onClick&&(typeof e.onClick==`function`?e.onClick(r):e.onClick[0](e.onClick[1],r))};return _(C,{get each(){return e.options},children:(n,i)=>(()=>{var a=ze();return a.$$click=r,a.$$clickData=i,b(a,()=>e.func(n)),A(()=>Y(a,`${e.class??``} ${t()===i()?e.activeClass:``}`)),a})()})};n([`click`]);var Ve=V(`<fieldset class="border rounded grow overflow-y-auto px-2"><legend>我的词书`),He=V(`<div class="flex justify-between gap-2">`),Ue=V(`<div class="flex gap-2"><label for=filter>设置过滤`),We=V(`<fieldset class="border rounded grow overflow-y-auto px-2"><legend>可用的词书`),Ge=V(`<fieldset class="border rounded grow overflow-y-auto px-2"><legend>我订阅的词书`),Ke=V(`<div class="pb-3 flex justify-between gap-2">`),qe=({go:e,setBook:n,setShowLoading:r,showLoading:o,showTips:s,tips:c,user:l})=>{let[u,d]=R(I.trans||!1),[f,p]=R([]),[m,h]=R(0),[g,y]=R([]),[x,S]=R(0),[C,w]=R([]),[E,D]=R(0),[O,k]=R(`^common`),A=()=>{n(void 0),e(`#book`)},j=()=>{n(f()[m()]),e(`#book`)},M=async()=>{let e=await W(f()[m()].bid);s(e?`删除成功`:`删除失败`),e&&p(f().filter((e,t)=>t!==m()))},P=()=>{y([...g(),C()[E()]])},ee=()=>{y([...g().slice(0,x()),...g().slice(x()+1)])},te=async()=>{r(!0),await z(g()[x()].bid),await J(),r(!1)},B=async()=>{await T({format:t,version:`${Date.now()}`,trans:u(),books:g().map(e=>e.bid)}),await J(),e()},V=()=>{a(),location.replace(`about`)},U=e=>{let t=e.currentTarget.parentElement;t.classList.contains(`shrink-0`)?t.classList.remove(`shrink-0`):t.classList.add(`shrink-0`)};return K(O,async e=>{let t=new RegExp(e);w((await i(e=>t.test(e.bid)||e.disc&&t.test(e.disc))).sort(F))}),K(async()=>{w((await i(e=>e.bid.startsWith(`common`))).sort(F)),y(await i(e=>I.books.includes(e.bid))),p(await i(e=>e.bid.startsWith(l())))}),_(L,{class:`p-2 gap-2 flex flex-col`,title:`设置`,tips:c,showLoading:o,get children(){return[_(X,{binding:[u,d],label:`Always Show Trans`}),(()=>{var e=Ve(),t=e.firstChild;return v(t,`click`,U),b(e,_(Be,{cindex:[m,h],get options(){return f()},func:e=>e.disc??e.bid,class:`px-2`,activeClass:`bg-[var(--bg-title)]`}),null),e})(),(()=>{var e=He();return b(e,_(N,{class:`button btn-normal grow`,name:`new`,onClick:A,children:`新建`}),null),b(e,_(N,{class:`button btn-normal grow`,name:`delete`,get disabled(){return!f().length},onClick:M,children:`删除`}),null),b(e,_(N,{class:`button btn-normal grow`,name:`update`,get disabled(){return!f().length},onClick:j,children:`更新`}),null),e})(),(()=>{var e=Ue();return e.firstChild,b(e,_(H,{class:`grow`,name:`filter`,binding:[O,k]}),null),e})(),(()=>{var e=We(),t=e.firstChild;return v(t,`click`,U),b(e,_(Be,{class:`px-2`,cindex:[E,D],get options(){return C()},func:e=>e.disc??e.bid,activeClass:`bg-[var(--bg-title)]`}),null),e})(),(()=>{var e=He();return b(e,_(N,{class:`button btn-normal grow`,onClick:P,children:`添加订阅`}),null),b(e,_(N,{class:`button btn-normal grow`,onClick:ee,children:`删除订阅`}),null),e})(),(()=>{var e=Ge(),t=e.firstChild;return v(t,`click`,U),b(e,_(Be,{class:`px-2`,cindex:[x,S],get options(){return g()},func:e=>e.disc??e.bid,activeClass:`bg-[var(--bg-title)]`}),null),e})(),(()=>{var t=Ke();return b(t,_(N,{class:`button btn-normal grow`,onClick:te,children:`添加任务`}),null),b(t,_(N,{class:`button btn-normal grow`,onClick:V,children:`登出`}),null),b(t,_(N,{class:`button btn-prime grow`,onClick:B,children:`保存`}),null),b(t,_(N,{class:`button btn-normal grow`,onClick:()=>e(),children:`取消`}),null),t})()]}})};const Je=e=>new Promise(t=>setTimeout(t,e));var Ye=V(`<header class="flex gap-2">`),Xe=V(`<section>`),Ze=V(`<div>`),Qe=e=>{let t=w(()=>e.children),[n,r]=e.cindex,i=Array.isArray(t())?t():[t()],a=(e,t)=>{t.stopPropagation(),r(e)};return _(S,{get when(){return i.length},get children(){return[(()=>{var t=Ye();return b(t,_(C,{each:i,children:(t,r)=>(()=>{var i=Ze();return i.$$click=a,i.$$clickData=r,b(i,()=>t.title||r()),A(()=>Y(i,`min-w-16 px-2 py-1 cursor-pointer text-center rounded-t-md ${n()===r()?e.class??``:``}`)),i})()})),t})(),(()=>{var t=Xe();return b(t,()=>i[n()]),A(()=>Y(t,`grow p-2 ${e.class??``}`)),t})()]}})};n([`click`]);var $e=V(`<p class="text-xl font-bold text-[var(--accent-color)]">`),et=V(`<p>`),tt=e=>_(C,{get each(){return Object.entries(e.entry.meanings)},children:([t,n])=>_(S,{get when(){return e.trans||t!==`ecdict`},get children(){return[_(S,{when:t,get children(){var e=$e();return b(e,t),e}}),_(C,{each:n,children:e=>(()=>{var t=et();return t.innerHTML=`&ensp;-&ensp;${e}`,t})()})]}})}),nt=V(`<div class="menu absolute top-full right-[36px] text-lg text-right bg-(--bg-body) z-1">`),rt=V(`<div class="relative flex gap-4 text-[150%] justify-between items-end"><div class=text-lg>`),it=V(`<div class="relative grow h-0 pb-4 flex flex-col overflow-y-auto"><div class="py-2 flex gap-2 flex-wrap justify-between"><div class="text-4xl font-bold"></div></div><audio autoplay>`),at=V(`<div>`),ot=V(`<menu>`),st=V(`<div class="text-2xl flex items-center">`),ct=V(`<div class="grow [&amp;>p>tt]:text-lg [&amp;>p>tt]:font-bold [&amp;>p>b]:font-bold [&amp;>p>i]:font-italic">`),lt=({bid:e,citem:t,go:n,hideTips:r,isPhaseAnswer:a,setCItem:o,setPhaseAnswer:s,setSprint:l,showTips:d,sprint:f,tips:g,totalStats:y,user:w,vocabulary:T})=>{let k=async()=>{n(f()<0?`#search`:void 0),await y(),y()},[j,N]=R(!1),[P,F]=R(0),z={startY:0,endY:0,offset:0,canUp:!1,canDown:!1},[B,V]=R([]),[H,U]=R(!1),W,G=async e=>{t()&&re(ee(await h(t().word,e)))},q=async()=>{if(f()<0)return k();l(e=>e+1),o(void 0),s(!1),N(!1);let t=await ne(e());if(!t)return k();o(t),F(0)},J=async()=>{d(`Get Server Data...`,!1);let e=await D(t());r(),o({...e})},Y=async()=>{d(`Submiting...`,!1),await M(t().word),r()},ae=async()=>{d(await O(t().word)?`删除成功`:`删除失败`),await q()},X=e=>{if(e.stopPropagation(),!(e.ctrlKey||e.altKey))switch(e.key){case` `:$(e);break;case`N`:case`X`:case`n`:case`x`:a()&&G().then(q);break;case`M`:case`Z`:case`m`:case`z`:a()&&G(0).then(q);break}},Z=async(e,t)=>{e.style.top=`${z.offset+=t}px`,Math.abs(z.offset)<globalThis.innerHeight&&(await Je(30),await Z(e,t))},Q=e=>{if(!a())return;let t=e.currentTarget;z.endY=z.startY=e.touches[0].clientY,z.offset=0,z.canDown=e.currentTarget.scrollTop<=3,z.canUp=t.scrollHeight-t.clientHeight-t.scrollTop<=3},oe=e=>{if(!a())return;z.endY=e.touches[0].clientY;let t=z.endY-z.startY;(t<0&&z.canUp||t>0&&z.canDown)&&(e.currentTarget.style.top=`${z.offset=t}px`,e.stopPropagation(),e.preventDefault())},se=e=>{a()&&(e.currentTarget.style.top=`${z.offset=0}`)},ce=async e=>{let t=e.currentTarget;if(Math.abs(z.offset)>=globalThis.innerHeight/6){let e=z.offset>0;await G(e?0:void 0),await Z(t,e?60:-60),await q()}t.style.top=`${z.offset=0}`},$=e=>{if(e?.stopPropagation(),H())return U(!1);let n=t()?.entries?.length??0;a()?n===1?W.play():P()<n-1?F(e=>e+1):F(0):(s(!0),W.play())},le=async e=>{U(!1);let n=t().word,r=(await te(e.bid))?.content;if(r?.has(n))return d(`已包含`);let[i,a]=p(e.bid),[o]=await ie(a,n);d(o===m.OK?`添加成功`:`添加失败`),r?.add(n),T().add(n)};return K(async()=>{V(await i(e=>p(e.bid)[0]===w()))}),_(L,{class:`flex flex-col p-2 outline-none`,get left(){return _(E,{class:`text-[150%] icon--material-symbols icon--material-symbols--chevron-left align-bottom`,onClick:k})},onKeyUp:X,tabIndex:-1,tips:g,get title(){return`学习${f()>0?`(${f()})`:``}`},get children(){return _(S,{get when(){return t()},get children(){return[(()=>{var e=rt(),n=e.firstChild;return b(e,_(E,{onClick:()=>G().then(q),title:`X/N`,class:`icon--material-symbols icon--material-symbols--check-circle text-green-500`,get disabled(){return!a()}}),n),b(e,_(E,{onClick:()=>G(0).then(q),title:`Z/M`,class:`icon--mdi icon--mdi--cross-circle text-fuchsia-500`,get disabled(){return!a()}}),n),b(e,_(E,{onClick:()=>G(13).then(q),class:`icon--material-symbols icon--material-symbols--family-star text-yellow-500`,get disabled(){return!a()}}),n),b(e,_(E,{onClick:ae,class:`icon--material-symbols icon--material-symbols--delete-outline text-orange-500`,get disabled(){return!a()}}),n),b(e,_(E,{onClick:()=>W.play(),class:`icon--material-symbols icon--material-symbols--volume-up text-blue-500`}),n),b(e,_(E,{onClick:Y,class:`icon--material-symbols icon--material-symbols--error text-red-500`,get disabled(){return!a()}}),n),b(e,_(E,{onClick:J,class:`icon--material-symbols icon--material-symbols--refresh text-purple-500`,get disabled(){return!a()}}),n),b(e,_(S,{get when(){return!I.trans},get children(){return _(E,{onClick:()=>N(e=>!e),class:`icon--icon-park-outline icon--icon-park-outline--chinese text-amber-500`,get disabled(){return!a()}})}}),n),b(e,_(E,{onClick:()=>U(e=>!e),class:`icon--material-symbols icon--material-symbols--dictionary text-cyan-500`,get disabled(){return!a()}}),n),b(n,()=>t()?.level),b(e,_(S,{get when(){return H()},get children(){var e=nt();return b(e,_(C,{get each(){return B()},children:e=>[at(),(()=>{var t=ot();return t.$$click=()=>le(e),b(t,()=>e.disc??e.bid),t})()]}),null),b(e,(()=>{var e=c(()=>!!B().length);return()=>e()&&at()})(),null),e}}),null),e})(),(()=>{var e=it(),n=e.firstChild,r=n.firstChild,i=n.nextSibling;v(e,`touchcancel`,se),v(e,`touchend`,ce),v(e,`touchmove`,oe),v(e,`touchstart`,Q),v(e,`click`,$),b(r,()=>t()?.word),b(n,(()=>{var e=c(()=>!!a());return()=>e()&&(()=>{var e=st();return b(e,()=>t()?.entries?.[P()].phonetic),e})()})(),null),b(e,_(S,{get when(){return a()},get children(){return _(S,{get when(){return(t()?.entries?.length??0)>1},get fallback(){return(()=>{var e=ct();return b(e,_(tt,{get entry(){return t()?.entries?.[0]},get trans(){return j()||f()<0||I.trans}})),e})()},get children(){return _(Qe,{class:`bg-(--bg-tab)`,cindex:[P,F],get children(){return _(C,{get each(){return t()?.entries},children:e=>(()=>{var t=ct();return b(t,_(tt,{entry:e,get trans(){return j()||f()<0||I.trans}})),t})()})}})}})}}),i);var o=W;return typeof o==`function`?u(o,i):W=i,A(()=>x(i,`src`,t()?.entries?.at(P())?.sound??``)),e})()]}})}})};n([`click`]);var ut=()=>{let[t]=R(document.querySelector(`meta[name='username']`)?.getAttribute(`content`)??``),[n,r]=R(l()),[i,a]=R(``),[o,s]=R(!1),[c,u]=R(),[d,p]=R(),[m,h]=R(-1),[g,v]=R(),[y,b]=R(!1),[x,S]=R(`#home`),[C,w]=R(new Set),E,D=async()=>r(await J()),O=()=>a(``),A=e=>S(e??(t()?`#home`:`#about`)),M=(e,t=!0)=>{a(e),t&&(E&&clearTimeout(E),E=setTimeout(O,3e3))},N=new Map;N.set(`#home`,()=>_(Ae,{go:A,setBId:p,setCItem:u,setPhaseAnswer:s,setShowLoading:b,setSprint:h,showLoading:y,showTips:M,stats:n,totalStats:D})),N.set(`#help`,()=>_(pe,{go:A})),N.set(`#about`,()=>_(G,{user:t,go:A})),N.set(`#issue`,()=>_(Ne,{go:A,showTips:M,tips:i})),N.set(`#setting`,()=>_(qe,{go:A,setBook:v,setShowLoading:b,showLoading:y,showTips:M,tips:i,user:t})),N.set(`#search`,()=>_(Re,{go:A,setCItem:u,setPhaseAnswer:s,setSprint:h,showTips:M,vocabulary:C})),N.set(`#study`,()=>_(lt,{bid:d,citem:c,go:A,hideTips:O,isPhaseAnswer:o,setCItem:u,setPhaseAnswer:s,setSprint:h,showTips:M,sprint:m,tips:i,totalStats:D,user:t,vocabulary:C})),N.set(`#book`,()=>_(de,{go:A,book:g,showTips:M,user:t}));let P=async()=>{t()?(A(`#home`),await D(),(async()=>{await k();let[e,t]=await j();e.size&&w(e),t().then(e=>e&&w(e)),await T(),await q(),await D()})()):A(`#about`)};return e(()=>{P()}),_(f,{get component(){return N.get(x())}})};y(()=>_(ut,{}),document.getElementById(`root`));